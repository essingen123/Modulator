{"version":3,"sources":["webpack:///webpack/bootstrap 9a052ca933b8f2d69894","webpack:///./ts/tracker.ts","webpack:///./ts/synth/synth.ts","webpack:///./ts/synth/notes.ts","webpack:///./ts/utils/modern.ts","webpack:///./ts/synth/palette.ts","webpack:///./ts/synth/customNodes.ts","webpack:///./ts/utils/file.ts","webpack:///./ts/utils/popups.ts","webpack:///./ts/piano/piano.ts","webpack:///./ts/synth/timer.ts","webpack:///./ts/synth/instrument.ts","webpack:///./ts/tracker/song.ts","webpack:///./ts/tracker/pianola.ts"],"names":["rowWithNotes","createNotes","starWars","NodeData","NodeData.constructor","NodeData.getInputs","Portamento","Portamento.constructor","Synth","Synth.constructor","Synth.createAudioNode","Synth.initNodeData","Synth.initOutputNodeData","Synth.removeNodeData","Synth.connectNodes","Synth.disconnectNodes","Synth.json2NodeData","Synth.nodeData2json","Synth.midi2freqRatio","Synth.noteOn","Synth.noteOff","Synth.addNoteHandler","Synth.removeNoteHandler","Synth.setupNoteHandlers","Synth.initNodeParams","Synth.registerCustomNode","Synth.registerParamHandler","BufferData","BufferData.constructor","BufferData.initialize","BufferData.renderParam","BufferData.param2json","BufferData.json2param","BaseNoteHandler","BaseNoteHandler.constructor","BaseNoteHandler.noteOn","BaseNoteHandler.noteOff","BaseNoteHandler.clone","BaseNoteHandler.disconnect","BaseNoteHandler.rampParam","OscNoteHandler","OscNoteHandler.constructor","OscNoteHandler.noteOn","OscNoteHandler.noteOff","LFONoteHandler","LFONoteHandler.constructor","LFONoteHandler.rampParam","BufferNoteHandler","BufferNoteHandler.constructor","BufferNoteHandler.noteOn","BufferNoteHandler.noteOff","Ramp","Ramp.constructor","Ramp.inside","Ramp.cut","Ramp.run","ADSRNoteHandler","ADSRNoteHandler.constructor","ADSRNoteHandler.releaseTime","ADSRNoteHandler.noteOn","ADSRNoteHandler.noteOff","ADSRNoteHandler.rescheduleRamp","ADSRNoteHandler.getRampValueAtTime","ADSRNoteHandler.loopParams","ADSRNoteHandler.getParamValue","RestartableNoteHandler","RestartableNoteHandler.constructor","RestartableNoteHandler.noteOn","RestartableNoteHandler.noteOff","OutputTracker","OutputTracker.constructor","OutputTracker.connect","OutputTracker.disconnect","OutputTracker.onBefore","removeArrayElement","logarithm","linear2log","log2linear","CustomNodeBase","CustomNodeBase.constructor","CustomNodeBase.connect","CustomNodeBase.disconnect","CustomNodeBase.addEventListener","CustomNodeBase.dispatchEvent","CustomNodeBase.removeEventListener","ADSR","ADSR.constructor","ScriptProcessor","ScriptProcessor.constructor","ScriptProcessor.connect","ScriptProcessor.disconnect","ScriptProcessor.start","ScriptProcessor.stop","ScriptProcessor.processAudio","NoiseGenerator","NoiseGenerator.constructor","NoiseGenerator.processAudio","NoiseCtrlGenerator","NoiseCtrlGenerator.constructor","NoiseCtrlGenerator.connect","NoiseCtrlGenerator.processAudio","Detuner","Detuner.constructor","Detuner.processAudio","LineInNode","LineInNode.constructor","LineInNode.connect","LineInNode.disconnect","arrayBufferToBase64","base64ToArrayBuffer","browserSupportsDownload","download","uploadText","uploadArrayBuffer","upload","alert","progress","close","confirm","prompt","PianoKeys","PianoKeys.constructor","PianoKeys.createKeys","PianoKeys.hasBlack","PianoKeyboard","PianoKeyboard.constructor","PianoKeyboard.registerKey","PianoKeyboard.registerButtons","PianoKeyboard.updateOctave","PianoKeyboard.displayKeyDown","PianoKeyboard.displayKeyUp","PianoKeyboard.midi2key","PianoKeyboard.setEnvelope","PianoKeyboard.togglePoly","PianoKeyboard.getPortamento","PianoKeyboard.changeArpeggioMode","PianoKeyboard.changeArpeggioOctave","PianoKeyboard.triggerArpeggioChange","PianoKeyboard.toJSON","PianoKeyboard.fromJSON","PianoKeyboard.noteOn","PianoKeyboard.noteOff","PianoKeyboard.polyOn","PianoKeyboard.polyOff","PianoKeyboard.octaveChanged","PianoKeyboard.arpeggioChanged","Timer","Timer.constructor","Timer.bpm","Timer.start","Timer.stop","Timer.tick","Instrument","Instrument.constructor","Instrument.noteOn","Instrument.noteOff","Instrument.findVoice","Instrument.close","Voice","Voice.constructor","Voice.noteOn","Voice.noteOff","Voice.close","VoiceNodeData","VoiceNodeData.constructor","VoiceNodeData.getInputs","SynthLoader","SynthLoader.constructor","SynthLoader.load","SynthLoader.nodeById","SynthLoader.close","Note","Note.constructor","Note.on","Note.off","NoteRow","NoteRow.constructor","Part","Part.constructor","Part.playRow","Track","Track.constructor","Song","Song.constructor","Song.play","Song.stop","Pianola","Pianola.constructor","Pianola.render","Pianola.renderPastRow","Pianola.renderCurrentRow","Pianola.renderFutureRow","Pianola.updateNotes","PianoKeyHelper","PianoKeyHelper.constructor","PianoKeyHelper.getKey","PianoKeyHelper.keyDown","PianoKeyHelper.keyUp","PianoKeyHelper.reset","NoteCanvas","NoteCanvas.constructor","NoteCanvas.paintNoteColumns","NoteCanvas.renderNoteRow"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA,KAAY,OAAO,uBAAM,EAAgB,CAAC;AAC1C,qCAAwB,EAAmB,CAAC;AAC5C,mCAAsB,EAAe,CAAC;AACtC,wCAA2B,EAAoB,CAAC;AAIhD;KAAsBA,eAAQA;UAARA,WAAQA,CAARA,sBAAQA,CAARA,IAAQA;SAARA,8BAAQA;;KAC7BA,IAAMA,EAAEA,GAAGA,IAAIA,OAAOA,CAACA,OAAOA,EAAEA,CAACA;KACjCA,EAAEA,CAACA,KAAKA,GAAGA,KAAKA,CAACA;KACjBA,MAAMA,CAACA,EAAEA,CAACA;AACXA,EAACA;AAED;KACCC,IAAMA,IAAIA,GAAGA,EAAEA,CAACA;KAChBA,IAAIA,CAACA,GAAGA,CAACA,CAACA;KACVA,IAAIA,CAACA,CAACA,CAACA,GAAGA,YAAYA,CAACA,OAAOA,CAACA,IAAIA,CAACA,EAAEA,CAACA,EAAEA,CAACA,CAACA,CAACA;KAC5CA,CAACA,IAAIA,CAACA,CAACA;KACPA,IAAIA,CAACA,CAACA,CAACA,GAAGA,YAAYA,CAACA,OAAOA,CAACA,IAAIA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,OAAOA,CAACA,IAAIA,CAACA,EAAEA,CAACA,EAAEA,CAACA,CAACA,CAACA;KAClEA,CAACA,IAAIA,CAACA,CAACA;KACPA,IAAIA,CAACA,CAACA,EAAEA,CAACA,GAAGA,YAAYA,CAACA,OAAOA,CAACA,IAAIA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,OAAOA,CAACA,IAAIA,CAACA,EAAEA,CAACA,EAAEA,CAACA,CAACA,CAACA;KACpEA,IAAIA,CAACA,CAACA,EAAEA,CAACA,GAAGA,YAAYA,CAACA,OAAOA,CAACA,IAAIA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,OAAOA,CAACA,IAAIA,CAACA,EAAEA,CAACA,EAAEA,CAACA,CAACA,CAACA;KACpEA,IAAIA,CAACA,CAACA,EAAEA,CAACA,GAAGA,YAAYA,CAACA,OAAOA,CAACA,IAAIA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,OAAOA,CAACA,IAAIA,CAACA,EAAEA,CAACA,EAAEA,CAACA,CAACA,CAACA;KACpEA,IAAIA,CAACA,CAACA,CAACA,GAAGA,YAAYA,CAACA,OAAOA,CAACA,IAAIA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,OAAOA,CAACA,IAAIA,CAACA,EAAEA,CAACA,EAAEA,CAACA,CAACA,CAACA;KAClEA,CAACA,IAAIA,CAACA,CAACA;KACPA,IAAIA,CAACA,CAACA,CAACA,GAAGA,YAAYA,CAACA,OAAOA,CAACA,IAAIA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,OAAOA,CAACA,IAAIA,CAACA,EAAEA,CAACA,EAAEA,CAACA,CAACA,CAACA;KAClEA,CAACA,IAAIA,CAACA,CAACA;KACPA,IAAIA,CAACA,CAACA,EAAEA,CAACA,GAAGA,YAAYA,CAACA,OAAOA,CAACA,IAAIA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,OAAOA,CAACA,IAAIA,CAACA,EAAEA,CAACA,EAAEA,CAACA,CAACA,CAACA;KACpEA,IAAIA,CAACA,CAACA,EAAEA,CAACA,GAAGA,YAAYA,CAACA,OAAOA,CAACA,IAAIA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,OAAOA,CAACA,IAAIA,CAACA,EAAEA,CAACA,EAAEA,CAACA,CAACA,CAACA;KACpEA,IAAIA,CAACA,CAACA,EAAEA,CAACA,GAAGA,YAAYA,CAACA,OAAOA,CAACA,IAAIA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,OAAOA,CAACA,IAAIA,CAACA,EAAEA,CAACA,EAAEA,CAACA,CAACA,CAACA;KACpEA,IAAIA,CAACA,CAACA,CAACA,GAAGA,YAAYA,CAACA,OAAOA,CAACA,IAAIA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,OAAOA,CAACA,IAAIA,CAACA,EAAEA,CAACA,EAAEA,CAACA,CAACA,CAACA;KAClEA,CAACA,IAAIA,CAACA,CAACA;KACPA,IAAIA,CAACA,CAACA,CAACA,GAAGA,YAAYA,CAACA,OAAOA,CAACA,IAAIA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,OAAOA,CAACA,IAAIA,CAACA,EAAEA,CAACA,EAAEA,CAACA,CAACA,CAACA;KAClEA,CAACA,IAAIA,CAACA,CAACA;KACPA,IAAIA,CAACA,CAACA,EAAEA,CAACA,GAAGA,YAAYA,CAACA,OAAOA,CAACA,IAAIA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,OAAOA,CAACA,IAAIA,CAACA,EAAEA,CAACA,EAAEA,CAACA,CAACA,CAACA;KACpEA,IAAIA,CAACA,CAACA,EAAEA,CAACA,GAAGA,YAAYA,CAACA,OAAOA,CAACA,IAAIA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,OAAOA,CAACA,IAAIA,CAACA,EAAEA,CAACA,EAAEA,CAACA,CAACA,CAACA;KACpEA,IAAIA,CAACA,CAACA,EAAEA,CAACA,GAAGA,YAAYA,CAACA,OAAOA,CAACA,IAAIA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,OAAOA,CAACA,IAAIA,CAACA,EAAEA,CAACA,EAAEA,CAACA,CAACA,CAACA;KACpEA,IAAIA,CAACA,CAACA,CAACA,GAAGA,YAAYA,CAACA,OAAOA,CAACA,IAAIA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,OAAOA,CAACA,IAAIA,CAACA,EAAEA,CAACA,EAAEA,CAACA,CAACA,CAACA;KAClEA,CAACA,IAAIA,CAACA,CAACA;KACPA,IAAIA,CAACA,CAACA,CAACA,GAAGA,YAAYA,CAACA,OAAOA,CAACA,IAAIA,CAACA,GAAGA,CAACA,EAAEA,CAACA,CAACA,CAACA;KAC7CA,MAAMA,CAACA,IAAIA,CAACA;AACbA,EAACA;AAED,mBAAkB,EAAsB;KACvCC,IAAMA,CAACA,GAAGA,IAAIA,OAAOA,CAACA,IAAIA,E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","file":"tracker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9a052ca933b8f2d69894\n **/","import * as tracker from './tracker/song';\nimport { Pianola } from './tracker/pianola';\nimport { Timer } from './synth/timer';\nimport { Instrument } from './synth/instrument';\nimport { ModernAudioContext } from './utils/modern';\n\n\nfunction rowWithNotes(...notes): tracker.NoteRow {\n\tconst nr = new tracker.NoteRow();\n\tnr.notes = notes;\n\treturn nr;\n}\n\nfunction createNotes(): tracker.NoteRow[] {\n\tconst rows = [];\n\tlet i = 0;\n\trows[i] = rowWithNotes(tracker.Note.on(48));\n\ti += 4;\n\trows[i] = rowWithNotes(tracker.Note.off(48), tracker.Note.on(55));\n\ti += 4;\n\trows[i++] = rowWithNotes(tracker.Note.off(55), tracker.Note.on(53));\n\trows[i++] = rowWithNotes(tracker.Note.off(53), tracker.Note.on(52));\n\trows[i++] = rowWithNotes(tracker.Note.off(52), tracker.Note.on(50));\n\trows[i] = rowWithNotes(tracker.Note.off(50), tracker.Note.on(60));\n\ti += 4;\n\trows[i] = rowWithNotes(tracker.Note.off(60), tracker.Note.on(55));\n\ti += 4;\n\trows[i++] = rowWithNotes(tracker.Note.off(55), tracker.Note.on(53));\n\trows[i++] = rowWithNotes(tracker.Note.off(53), tracker.Note.on(52));\n\trows[i++] = rowWithNotes(tracker.Note.off(52), tracker.Note.on(50));\n\trows[i] = rowWithNotes(tracker.Note.off(50), tracker.Note.on(60));\n\ti += 4;\n\trows[i] = rowWithNotes(tracker.Note.off(60), tracker.Note.on(55));\n\ti += 4;\n\trows[i++] = rowWithNotes(tracker.Note.off(55), tracker.Note.on(53));\n\trows[i++] = rowWithNotes(tracker.Note.off(53), tracker.Note.on(52));\n\trows[i++] = rowWithNotes(tracker.Note.off(52), tracker.Note.on(53));\n\trows[i] = rowWithNotes(tracker.Note.off(53), tracker.Note.on(50));\n\ti += 4;\n\trows[i] = rowWithNotes(tracker.Note.off(50));\n\treturn rows;\n}\n\nfunction starWars(ac: ModernAudioContext): tracker.Song {\n\tconst p = new tracker.Part();\n\tp.voices = 1;\n\tconst json = {\n\t\tnodes: [\n\t\t\t{id: 0, inputs: [1]},\n\t\t\t{id: 1, inputs: []}\n\t\t],\n\t\tnodeData: [\n\t\t\t{type: 'out', params: {}},\n\t\t\t{type: 'Oscillator', params: {frequency: 440, detune: 0, type: 'square'}}\n\t\t]\n\t};\n\tp.instrument = new Instrument(ac, json, p.voices);\n\tp.name = 'Main theme';\n\tp.rows = createNotes();\n\tconst t = new tracker.Track();\n\tt.parts.push(p);\n\tconst s = new tracker.Song();\n\ts.title = 'Star Wars';\n\ts.bpm = 90;\n\ts.tracks.push(t);\n\treturn s;\n}\n\n\n//--------------------------------------------------\n\nconst pianola = new Pianola($('#past-notes'), $('#piano'), $('#future-notes'));\nconst ac = <ModernAudioContext>new AudioContext();\nconst sw = starWars(ac);\nconst part = sw.tracks[0].parts[0];\n\nlet tick = 0;\nlet rowNum = 0;\n\nconst t = new Timer(ac, 90);\nt.start(when => {\n\tpart.playRow(rowNum, when);\n\tpianola.render(part, rowNum++);\n\tif (rowNum > part.rows.length) t.stop();\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/tracker.ts\n **/","import { NoteHandler, NoteHandlers } from './notes';\nimport { NodeDef, NodeParamDef, NodePalette, palette } from './palette';\nimport { ModernAudioContext, ModernAudioNode, removeArrayElement } from '../utils/modern';\nimport * as custom from './customNodes';\nimport * as file from '../utils/file';\n\n\nconst SEMITONE = Math.pow(2, 1/12);\nconst A4 = 57;\n\n/**\n * Holds all data associated with an AudioNode\n */\nexport class NodeData {\n\t// Used by all nodes\n\ttype: string;\n\tanode: ModernAudioNode;\n\tnodeDef: NodeDef;\n\t// Used by control nodes\n\tcontrolParam: string;\n\tcontrolParams: string[];\n\tcontrolTarget: ModernAudioNode;\n\t// Used by source audio nodes\n\tnoteHandler: NoteHandler;\n\t// Flag to avoid deleting output node\n\tisOut: boolean = false;\n\t// Reference to owner synth\n\tsynth: Synth;\n\t// To be implemented by user code\n\tgetInputs(): NodeData[] {\n\t\tthrow 'Error: getInputs() function should be implemented by user';\n\t}\n}\n\n/**\n * Global paramters that apply to the whole monophonic synthesizer.\n */\nexport class Portamento {\n\ttime = 0;\n\tratio = 0;\n}\n\n//TODO *** refactor & decouple from UI\ninterface ParamHandler {\n\tinitialize(anode: AudioNode, def: NodeDef): void;\n\trenderParam(panel: JQuery, pdef: NodeParamDef,\n\t\tanode: AudioNode, param: string, label: string): JQuery;\n\tparam2json(anode: AudioNode): any;\n\tjson2param(anode: AudioNode, json: any);\n}\n\n/**\n * Performs global operations on all AudioNodes:\n * - Manages AudioNode creation, initialization and connection\n * - Distributes MIDI keyboard events to NoteHandlers\n */\nexport class Synth {\n\tac: ModernAudioContext;\n\tcustomNodes: { [key: string]: Function } = {};\n\tparamHandlers: { [key: string]: ParamHandler } = {};\n\tpalette: NodePalette;\n\tnoteHandlers: NoteHandler[] = [];\n\tportamento = new Portamento();\n\n\tconstructor(ac: ModernAudioContext) {\n\t\tthis.ac = ac;\n\t\tthis.palette = palette;\n\t\tthis.registerCustomNode('createADSR', custom.ADSR);\n\t\tthis.registerCustomNode('createNoise', custom.NoiseGenerator);\n\t\tthis.registerCustomNode('createNoiseCtrl', custom.NoiseCtrlGenerator);\n\t\tthis.registerCustomNode('createLineIn', custom.LineInNode);\n\t\tthis.registerCustomNode('createDetuner', custom.Detuner);\n\t\tthis.registerParamHandler('BufferData', new BufferData());\n\t}\n\n\tcreateAudioNode(type: string): AudioNode {\n\t\tconst def: NodeDef = palette[type];\n\t\tif (!def) return null;\n\t\tconst factory = def.custom ? this.customNodes : this.ac;\n\t\tif (!factory[def.constructor]) return null;\n\t\tconst anode = factory[def.constructor]();\n\t\tif (!anode.context) anode.context = this.ac;\n\t\tthis.initNodeParams(anode, def, type);\n\t\treturn anode;\n\t}\n\n\tinitNodeData(ndata: NodeData, type: string): void {\n\t\tndata.synth = this;\n\t\tndata.type = type;\n\t\tndata.anode = this.createAudioNode(type);\n\t\tif (!ndata.anode)\n\t\t\treturn console.error(`No AudioNode found for '${type}'`);\n\t\tndata.nodeDef = this.palette[type];\n\t\tconst nh = ndata.nodeDef.noteHandler;\n\t\tif (nh) {\n\t\t\tndata.noteHandler = new NoteHandlers[nh](ndata);\n\t\t\tthis.addNoteHandler(ndata.noteHandler);\n\t\t}\n\t}\n\n\tinitOutputNodeData(ndata: NodeData, dst: AudioNode): void {\n\t\tndata.synth = this;\n\t\tndata.type = 'out';\n\t\tndata.anode = this.ac.createGain();\n\t\tndata.anode.connect(dst);\n\t\tndata.nodeDef = this.palette['Speaker'];\n\t\tndata.isOut = true;\n\t}\n\n\tremoveNodeData(data: NodeData) {\n\t\tif (data.noteHandler)\n\t\t\tthis.removeNoteHandler(data.noteHandler);\n\t}\n\n\tconnectNodes(srcData: NodeData, dstData: NodeData): void {\n\t\tif (srcData.nodeDef.control && !dstData.nodeDef.control) {\n\t\t\tsrcData.controlParams = Object.keys(dstData.nodeDef.params)\n\t\t\t\t.filter(pname => dstData.anode[pname] instanceof AudioParam);\n\t\t\tsrcData.controlParam = srcData.controlParams[0];\n\t\t\tsrcData.controlTarget = dstData.anode;\n\t\t\tsrcData.anode.connect(dstData.anode[srcData.controlParam]);\n\t\t}\n\t\telse srcData.anode.connect(dstData.anode);\n\t}\n\n\tdisconnectNodes(srcData: NodeData, dstData: NodeData): void {\n\t\tif (srcData.nodeDef.control && !dstData.nodeDef.control) {\n\t\t\tsrcData.controlParams = null;\n\t\t\tsrcData.anode.disconnect(dstData.anode[srcData.controlParam]);\n\t\t}\n\t\telse\n\t\t\tsrcData.anode.disconnect(dstData.anode);\n\t}\n\n\tjson2NodeData(json: any, data: NodeData): void {\n\t\tfor (const pname of Object.keys(json.params)) {\n\t\t\tconst pvalue = data.anode[pname];\n\t\t\tconst jv = json.params[pname];\n\t\t\tif (data.nodeDef.params[pname].handler)\n\t\t\t\tthis.paramHandlers[data.nodeDef.params[pname].handler]\n\t\t\t\t\t.json2param(data.anode, jv);\n\t\t\telse if (pvalue instanceof AudioParam) {\n\t\t\t\tpvalue.value = jv;\n\t\t\t\tpvalue['_value'] = jv;\n\t\t\t}\n\t\t\telse data.anode[pname] = jv;\n\t\t}\n\t}\n\n\tnodeData2json(data: NodeData): any {\n\t\tconst params = {};\n\t\tfor (const pname of Object.keys(data.nodeDef.params)) {\n\t\t\tconst pvalue = data.anode[pname];\n\t\t\tif (data.nodeDef.params[pname].handler)\n\t\t\t\tparams[pname] = this.paramHandlers[data.nodeDef.params[pname].handler]\n\t\t\t\t\t.param2json(data.anode);\n\t\t\telse if (pvalue instanceof AudioParam)\n\t\t\t\tif (pvalue['_value'] === undefined) params[pname] = pvalue.value;\n\t\t\t\telse params[pname] = pvalue['_value'];\n\t\t\telse params[pname] = pvalue;\n\t\t}\n\t\treturn {\n\t\t\ttype: data.type,\n\t\t\tparams,\n\t\t\tcontrolParam: data.controlParam,\n\t\t\tcontrolParams: data.controlParams\n\t\t}\n\t}\n\n\tmidi2freqRatio(midi: number): number {\n\t\treturn Math.pow(SEMITONE, midi - A4);\n\t}\n\n\tnoteOn(midi: number, gain: number, when?: number): void {\n\t\tif (!when) when = this.ac.currentTime;\n\t\tconst ratio = this.midi2freqRatio(midi);\n\t\tthis.setupNoteHandlers();\n\t\tfor (const nh of this.noteHandlers)\n\t\t\tnh.noteOn(midi, gain, ratio, when);\n\t\tthis.portamento.ratio = ratio;\n\t}\n\n\tnoteOff(midi: number, gain: number, when?: number): void {\n\t\tif (!when) when = this.ac.currentTime;\n\t\tfor (const nh of this.noteHandlers)\n\t\t\tnh.noteOff(midi, gain, when);\n\t}\n\n\taddNoteHandler(nh: NoteHandler): void {\n\t\tthis.noteHandlers.push(nh);\n\t}\n\n\tremoveNoteHandler(nh: NoteHandler): void {\n\t\tremoveArrayElement(this.noteHandlers, nh)\n\t}\n\n\tsetupNoteHandlers() {\n\t\tlet maxRelease = 0;\n\t\tfor (const nh of this.noteHandlers) {\n\t\t\tif (nh.kbTrigger && nh.releaseTime > maxRelease)\n\t\t\t\tmaxRelease = nh.releaseTime;\n\t\t}\n\t\tfor (const nh of this.noteHandlers) {\n\t\t\tif (!nh.kbTrigger)\n\t\t\t\tnh.releaseTime = maxRelease;\n\t\t}\n\t}\n\n\tinitNodeParams(anode: AudioNode, def: NodeDef, type: string): void {\n\t\tfor (const param of Object.keys(def.params || {}))\n\t\t\tif (anode[param] === undefined)\n\t\t\t\tconsole.warn(`Parameter '${param}' not found for node '${type}'`)\n\t\t\telse if (anode[param] instanceof AudioParam)\n\t\t\t\tanode[param].value = def.params[param].initial;\n\t\t\telse if (def.params[param].handler) {\n\t\t\t\tdef.params[param].phandler = this.paramHandlers[def.params[param].handler];\n\t\t\t\tdef.params[param].phandler.initialize(anode, def);\n\t\t\t}\n\t\t\telse\n\t\t\t\tanode[param] = def.params[param].initial;\n\t}\n\n\tregisterCustomNode(constructorName: string, nodeClass: any): void {\n\t\tthis.customNodes[constructorName] = () => new nodeClass(this.ac);\n\t}\n\n\tregisterParamHandler(hname: string, handler: ParamHandler): void {\n\t\tthis.paramHandlers[hname] = handler;\n\t}\n\n}\n\n\n\n//-------------------- Parameter handlers --------------------\n\nclass BufferData implements ParamHandler {\n\n\tinitialize(anode: AudioNode, def: NodeDef): void {}\n\n\trenderParam(panel: JQuery, pdef: NodeParamDef,\n\t\tanode: AudioNode, param: string, label: string): JQuery {\n\t\tconst box = $('<div class=\"choice-box\">');\n\t\tconst button = $(`\n\t\t\t<span class=\"btn btn-primary upload\">\n\t\t\t\t<input type=\"file\" id=\"load-file\">\n\t\t\t\tLoad&nbsp;\n\t\t\t\t<span class=\"glyphicon glyphicon-open\" aria-hidden=\"true\"></span>\n\t\t\t</span>`);\n\t\tbox.append(button);\n\t\tbutton.after('<br/><br/>' + label);\n\t\tpanel.append(box);\n\t\tbutton.find('input').change(evt => file.uploadArrayBuffer(evt, soundFile => {\n\t\t\tanode['_encoded'] = soundFile;\n\t\t\tanode.context.decodeAudioData(soundFile, buffer => anode['_buffer'] = buffer);\n\t\t}));\n\t\treturn box;\n\t}\n\n\tparam2json(anode: AudioNode): any {\n\t\treturn file.arrayBufferToBase64(anode['_encoded']);\n\t}\n\n\tjson2param(anode: AudioNode, json: any) {\n\t\tconst encoded = file.base64ToArrayBuffer(json);\n\t\tanode['_encoded'] = encoded;\n\t\tanode.context.decodeAudioData(encoded, buffer => anode['_buffer'] = buffer);\n\t}\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/synth/synth.ts\n **/","import { NodeData } from './synth';\nimport { ADSR } from './customNodes';\nimport { ModernAudioNode, removeArrayElement } from '../utils/modern';\n\n\n/**\n * A note handler handles MIDI keyboard events on behalf of a synth node,\n * updating the node status accordingly.\n */\nexport interface NoteHandler {\n\tnoteOn(midi: number, gain: number, ratio: number, when: number):void;\n\tnoteOff(midi: number, gain: number, when: number): void;\n\tkbTrigger: boolean;\n\treleaseTime: number;\n}\n\n/**\n * Handles common AudioNode cloning, used by oscillator and buffered data nodes.\n */\nclass BaseNoteHandler implements NoteHandler {\n\tndata: NodeData;\n\toutTracker: OutputTracker;\n\tkbTrigger = false;\n\treleaseTime = 0;\n\n\tconstructor(ndata: NodeData) {\n\t\tthis.ndata = ndata;\n\t\tthis.outTracker = new OutputTracker(ndata.anode);\n\t}\n\n\tnoteOn(midi: number, gain: number, ratio: number, when: number):void {}\n\tnoteOff(midi: number, gain: number, when: number): void {}\n\n\tclone(): AudioNode {\n\t\t// Create clone\n\t\tconst anode = this.ndata.anode.context[this.ndata.nodeDef.constructor]();\n\t\t// Copy parameters\n\t\tfor (const pname of Object.keys(this.ndata.nodeDef.params)) {\n\t\t\tconst param = this.ndata.anode[pname];\n\t\t\tif (param instanceof AudioParam)\n\t\t\t\tanode[pname].value = param.value;\n\t\t\telse if (param !== null && param !== undefined)\n\t\t\t\tanode[pname] = param;\n\t\t}\n\t\t// Copy output connections\n\t\tfor (const out of this.outTracker.outputs) {\n\t\t\tlet o2: any = out;\n\t\t\tif (o2.custom && o2.anode) o2 = o2.anode;\n\t\t\tanode.connect(o2);\n\t\t}\n\t\t// Copy control input connections\n\t\tfor (const inData of this.ndata.getInputs()) {\n\t\t\tinData.anode.connect(anode[inData.controlParam]);\n\t\t}\n\t\t//TODO should copy snapshot of list of inputs and outputs\n\t\t//...in case user connects or disconnects during playback\n\t\treturn anode;\n\t}\n\n\tdisconnect(anode: ModernAudioNode): void {\n\t\t// Disconnect outputs\n\t\tfor (const out of this.outTracker.outputs)\n\t\t\tanode.disconnect(out);\n\t\t// Disconnect control inputs\n\t\tfor (const inData of this.ndata.getInputs()) {\n\t\t\tinData.anode.disconnect(anode[inData.controlParam]);\n\t\t}\n\t}\n\n\trampParam(param: MAudioParam, ratio: number, when: number): void {\n\t\tconst portamento = this.ndata.synth.portamento;\n\t\tconst newv = param.value * ratio;\n\t\tparam._value = newv;\t// Required for ADSR to capture the correct value\n\t\tif (portamento.time > 0 && portamento.ratio > 0) {\n\t\t\tconst oldv = param.value * portamento.ratio;\n\t\t\tparam.cancelScheduledValues(when);\n\t\t\tparam.linearRampToValueAtTime(oldv, when);\n\t\t\tparam.exponentialRampToValueAtTime(newv, when + portamento.time);\n\t\t}\n\t\telse param.setValueAtTime(newv, when);\n\t}\n}\n\n/**\n * Handles note events for an OscillatorNode\n */\nclass OscNoteHandler extends BaseNoteHandler {\n\toscClone: OscillatorNode;\n\tlastNote: number;\n\n\tnoteOn(midi: number, gain: number, ratio: number, when: number):void {\n\t\tif (this.oscClone) this.oscClone.stop(when);\n\t\tthis.oscClone = <OscillatorNode>this.clone();\n\t\tthis.rampParam(<MAudioParam>this.oscClone.frequency, ratio, when);\n\t\tthis.oscClone.start(when);\n\t\tthis.lastNote = midi;\n\t}\n\n\tnoteOff(midi: number, gain: number, when: number): void {\n\t\tif (midi != this.lastNote) return;\t// Avoid multple keys artifacts in mono mode\n\t\tthis.oscClone.stop(when + this.releaseTime);\n\t}\n}\n\n/**\n * Handles note events for an LFO node. This is identical to a regular\n * oscillator node, but the note does not affect the oscillator frequency\n */\nclass LFONoteHandler extends OscNoteHandler {\n\trampParam(param: AudioParam, ratio: number, when: number) {\n\t\t// Disable portamento for LFO\n\t\tparam.setValueAtTime(param.value, when);\n\t}\n}\n\n/**\n * Handles note events for an AudioBufferSourceNode\n */\nclass BufferNoteHandler extends BaseNoteHandler {\n\tabsn: AudioBufferSourceNode;\n\tlastNote: number;\n\n\tnoteOn(midi: number, gain: number, ratio: number, when: number):void {\n\t\tif (this.absn)\n\t\t\tthis.absn.stop(when);\n\t\tconst buf = this.ndata.anode['_buffer'];\n\t\tif (!buf) return;\t// Buffer still loading or failed\n\t\tthis.absn = <AudioBufferSourceNode>this.clone();\n\t\tthis.absn.buffer = buf;\n\t\tconst pbr = this.absn.playbackRate;\n\t\tconst newRate = pbr.value * ratio;\n\t\tthis.rampParam(<MAudioParam>pbr, pbr.value * ratio, when);\n\t\tthis.absn.start(when);\n\t\tthis.lastNote = midi;\n\t}\n\n\tnoteOff(midi: number, gain: number, when: number): void {\n\t\tif (midi != this.lastNote) return;\n\t\tthis.absn.stop(when + this.releaseTime);\n\t}\n}\n\n/**\n * Performs computations about ramps so they can be easily rescheduled\n */\nclass Ramp {\n\tconstructor(public v1: number, public v2: number, public t1: number, public t2: number) {}\n\tinside(t: number) {\n\t\treturn this.t1 < this.t2 && this.t1 <= t && t <= this.t2;\n\t}\n\tcut(t: number) {\n\t\tconst newv = this.v1 + (this.v2 - this.v1) * (t - this.t1) / (this.t2 - this.t1);\n\t\treturn new Ramp(this.v1, newv, this.t1, t);\n\t}\n\trun(p: AudioParam, follow: boolean = false) {\n\t\tif (this.t2 - this.t1 <= 0) {\n\t\t\tp.setValueAtTime(this.v2, this.t2);\n\t\t}\n\t\telse {\n\t\t\tif (!follow) p.setValueAtTime(this.v1, this.t1);\n\t\t\tp.linearRampToValueAtTime(this.v2, this.t2);\n\t\t}\n\t}\n}\n\ninterface MAudioParam extends AudioParam {\n\t_attack: Ramp;\n\t_decay: Ramp;\n\t_release: Ramp;\n\t_value: number;\n}\n/**\n * Handles note events for a custom ADSR node\n */\nclass ADSRNoteHandler extends BaseNoteHandler {\n\tlastNote: number;\n\tkbTrigger = true;\n\n\tconstructor(ndata: NodeData) {\n\t\tsuper(ndata);\n\t\tconst adsr: ADSR = <ADSR>ndata.anode;\n\t\tconst oldMethod = adsr.disconnect;\n\t\tadsr.disconnect = (dest: AudioParam) => {\n\t\t\tthis.loopParams(param => {\n\t\t\t\tif (param == dest)\n\t\t\t\t\tparam.setValueAtTime(param._value, adsr.context.currentTime);\n\t\t\t});\n\t\t\toldMethod(dest);\n\t\t}\n\t}\n\n\tget releaseTime() {\n\t\tconst adsr: ADSR = <ADSR>this.ndata.anode;\n\t\treturn adsr.release;\n\t}\n\n\tnoteOn(midi: number, gain: number, ratio: number, when: number):void {\n\t\tthis.lastNote = midi;\n\t\tconst adsr: ADSR = <ADSR>this.ndata.anode;\n\t\tthis.loopParams(param => {\n\t\t\tconst v = this.getParamValue(param);\n\t\t\tconst initial = (1 - adsr.depth) * v;\n\t\t\tconst sustain = v * adsr.sustain + initial * (1 - adsr.sustain);\n\t\t\tconst now = adsr.context.currentTime;\n\t\t\tparam.cancelScheduledValues(now);\n\t\t\tif (when > now)\n\t\t\t\tthis.rescheduleRamp(param, param._release, now);\n\t\t\tparam._attack = new Ramp(initial, v, when, when + adsr.attack);\n\t\t\tparam._decay = new Ramp(v, sustain, when + adsr.attack, when + adsr.attack + adsr.decay);\n\t\t\tparam._attack.run(param);\n\t\t\tparam._decay.run(param, true);\n\t\t});\n\t}\n\n\tnoteOff(midi: number, gain: number, when: number): void {\n\t\tif (midi != this.lastNote) return;\t// Avoid multple keys artifacts in mono mode\n\t\tconst adsr: ADSR = <ADSR>this.ndata.anode;\n\t\tthis.loopParams(param => {\n\t\t\tlet v = this.getRampValueAtTime(param, when);\n\t\t\tif (v === null)\n\t\t\t\tv = this.getParamValue(param) * adsr.sustain;\n\t\t\tconst finalv = (1 - adsr.depth) * v;\n\t\t\tparam.cancelScheduledValues(when);\n\t\t\tconst now = adsr.context.currentTime;\n\t\t\tif (when > now)\n\t\t\t\tthis.rescheduleRamp(param, param._attack, now) ||\n\t\t\t\tthis.rescheduleRamp(param, param._decay, now);\n\t\t\tparam._release = new Ramp(v, finalv, when, when + adsr.release);\n\t\t\tparam._release.run(param);\n\t\t});\n\t}\n\n\trescheduleRamp(param: MAudioParam, ramp: Ramp, now: number): boolean {\n\t\tif (ramp && ramp.inside(now)) {\n\t\t\tramp.cut(now).run(param);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tgetRampValueAtTime(param: MAudioParam, t: number): number {\n\t\tlet ramp;\n\t\tif (param._attack && param._attack.inside(t))\n\t\t\treturn param._attack.cut(t).v2;\n\t\tif (param._decay && param._decay.inside(t))\n\t\t\treturn param._decay.cut(t).v2;\n\t\treturn null;\n\t}\n\n\tloopParams(cb: (out: MAudioParam) => void): void {\n\t\tfor (const out of this.outTracker.outputs)\n\t\t\tif (out instanceof AudioParam)\n\t\t\t\tcb(<MAudioParam>out);\n\t}\n\n\tgetParamValue(p: MAudioParam): number {\n\t\tif (p._value === undefined) p._value = p.value;\n\t\treturn p._value;\n\t}\n}\n\n/**\n * Handles note events for any node that allows calling start() after stop(),\n * such as custom nodes.\n */\nclass RestartableNoteHandler extends BaseNoteHandler {\n\tlastNote: number;\n\tplaying = false;\n\n\tnoteOn(midi: number, gain: number, ratio: number, when: number):void {\n\t\tconst anode: any = this.ndata.anode;\n\t\tif (this.playing)\n\t\t\tanode.stop(when);\n\t\tthis.playing = true;\n\t\tanode.start(when);\n\t\tthis.lastNote = midi;\n\t}\n\n\tnoteOff(midi: number, gain: number, when: number): void {\n\t\tif (midi != this.lastNote) return;\n\t\tthis.playing = false;\n\t\tconst anode: any = this.ndata.anode;\n\t\tanode.stop(when + this.releaseTime);\n\t}\n}\n\n/**\n * Exports available note handlers so they are used by their respective\n * nodes from the palette.\n */\nexport const NoteHandlers = {\n\t'osc': OscNoteHandler,\n\t'buffer': BufferNoteHandler,\n\t'ADSR': ADSRNoteHandler,\n\t'LFO': LFONoteHandler,\n\t'restartable': RestartableNoteHandler\n};\n\n\n/**\n * Tracks a node output connections and disconnections, to be used\n * when cloning, removing or controlling nodes.\n */\nclass OutputTracker {\n\toutputs: (AudioNode | AudioParam) [] = [];\n\n\tconstructor(anode: AudioNode) {\n\t\tthis.onBefore(anode, 'connect', this.connect, (oldf, obj, args) => {\n\t\t\tif (args[0].custom && args[0].anode) args[0] = args[0].anode;\n\t\t\toldf.apply(obj, args);\n\t\t});\n\t\tthis.onBefore(anode, 'disconnect', this.disconnect);\n\t}\n\n\tconnect(np) {\n\t\tthis.outputs.push(np);\n\t}\n\n\tdisconnect(np) {\n\t\tremoveArrayElement(this.outputs, np);\n\t}\n\n\tonBefore(obj: any, fname: string, funcToCall: Function, cb?: (oldf, obj, args) => void): void {\n\t\tconst oldf = obj[fname];\n\t\tconst self = this;\n\t\tobj[fname] = function() {\n\t\t\tfuncToCall.apply(self, arguments);\n\t\t\tif (cb) cb(oldf, obj, arguments)\n\t\t\telse oldf.apply(obj, arguments);\n\t\t}\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/synth/notes.ts\n **/","/**\n * Modernize browser interfaces so that TypeScript does not complain\n * when using new features.\n *\n * Also provides some basic utility funcitons which should be part of\n * the standard JavaScript library.\n */\n\nexport interface ModernWindow extends Window {\n\tAudioContext: AudioContext;\n\twebkitAudioContext: AudioContext;\n}\n\nexport interface ModernAudioContext extends AudioContext {\n\tsuspend: () => void;\n\tresume: () => void;\n}\n\nexport interface ModernAudioNode extends AudioNode {\n\tdisconnect(output?: number | AudioNode | AudioParam): void\n}\n\n\nexport function removeArrayElement(a: any[], e: any): boolean {\n\tconst pos = a.indexOf(e);\n\tif (pos < 0) return false;\t// not found\n\ta.splice(pos, 1);\n\treturn true;\n}\n\nconst LOG_BASE = 2;\n\nfunction logarithm(base: number, x: number): number {\n\treturn Math.log(x) / Math.log(base);\n}\n\nexport function linear2log(value: number, min: number, max: number): number {\n\tconst logRange = logarithm(LOG_BASE, max + 1 - min);\n\treturn logarithm(LOG_BASE, value + 1 - min) / logRange;\n}\n\nexport function log2linear(value: number, min: number, max: number): number {\n\tconst logRange = logarithm(LOG_BASE, max + 1 - min);\n\treturn min + Math.pow(LOG_BASE, value * logRange) - 1;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./ts/utils/modern.ts\n **/","/** Configuration data for an AudioNode parameter */\nexport interface NodeParamDef {\n\tinitial: any;\n\tmin?: number;\n\tmax?: number;\n\tlinear?: boolean;\n\tchoices?: string[];\n\thandler?: string;\n\tphandler?: any;\n}\n\n/** Configuration data for an AudioNode */\nexport interface NodeDef {\n\tconstructor: string;\n\tcustom?: boolean;\n\tnoteHandler?: string;\n\tcontrol?: boolean;\n\tparams: { [key: string]: NodeParamDef };\n}\n\n/** A set of AudioNode configuration elements */\nexport interface NodePalette {\n\t[key: string]: NodeDef;\n}\n\n//-------------------- Node palette definition --------------------\n\nconst OCTAVE_DETUNE: NodeParamDef = {\n\tinitial: 0,\n\tmin: -1200,\n\tmax: 1200,\n\tlinear: true\n};\n\n/**\n * The set of AudioNodes available to the application, along with\n * their configuration.\n */\nexport var palette: NodePalette = {\n\t// Sources\n\tOscillator: {\n\t\tconstructor: 'createOscillator',\n\t\tnoteHandler: 'osc',\n\t\tparams: {\n\t\t\tfrequency: { initial: 220, min: 20, max: 20000 },\n\t\t\tdetune: OCTAVE_DETUNE,\n\t\t\ttype: {\n\t\t\t\tinitial: 'sawtooth',\n\t\t\t\tchoices: ['sine', 'square', 'sawtooth', 'triangle']\n\t\t\t}\n\t\t}\n\t},\n\tBuffer: {\n\t\tconstructor: 'createBufferSource',\n\t\tnoteHandler: 'buffer',\n\t\tparams: {\n\t\t\tplaybackRate: { initial: 1, min: 0, max: 8 },\n\t\t\tdetune: OCTAVE_DETUNE,\n\t\t\tbuffer: {\n\t\t\t\tinitial: null,\n\t\t\t\thandler: 'BufferData'\n\t\t\t},\n\t\t\tloop: { initial: false },\n\t\t\tloopStart: { initial: 0, min: 0, max: 10 },\n\t\t\tloopEnd: { initial: 3, min: 0, max: 10 }\n\t\t}\n\t},\n\tNoise: {\n\t\tconstructor: 'createNoise',\n\t\tnoteHandler: 'restartable',\n\t\tcustom: true,\n\t\tparams: {\n\t\t\tgain:  { initial: 1, min: 0, max: 10 }\n\t\t}\n\t},\n\tLineIn: {\n\t\tconstructor: 'createLineIn',\n\t\tcustom: true,\n\t\tparams: {}\n\t},\n\t// Effects\n\tGain: {\n\t\tconstructor: 'createGain',\n\t\tparams: {\n\t\t\tgain: { initial: 1, min: 0, max: 10, linear: true }\n\t\t}\n\t},\n\tFilter: {\n\t\tconstructor: 'createBiquadFilter',\n\t\tparams: {\n\t\t\tfrequency: { initial: 440, min: 20, max: 20000 },\n\t\t\tQ: { initial: 0, min: 0, max: 100 },\n\t\t\tdetune: OCTAVE_DETUNE,\n\t\t\tgain: { initial: 0, min: -40, max: 40, linear: true },\n\t\t\ttype: {\n\t\t\t\tinitial: 'lowpass',\n\t\t\t\tchoices: ['lowpass', 'highpass', 'bandpass',\n\t\t\t\t\t'lowshelf', 'highshelf', 'peaking', 'notch', 'allpass']\n\t\t\t}\n\t\t},\n\t},\n\tDelay: {\n\t\tconstructor: 'createDelay',\n\t\tparams: {\n\t\t\tdelayTime: { initial: 1, min: 0, max: 5 }\n\t\t}\n\t},\n\tStereoPan: {\n\t\tconstructor: 'createStereoPanner',\n\t\tparams: {\n\t\t\tpan: { initial: 0, min: -1, max: 1, linear: true }\n\t\t}\n\t},\n\tCompressor: {\n\t\tconstructor: 'createDynamicsCompressor',\n\t\tparams: {\n\t\t\tthreshold: { initial: -24, min: -100, max: 0, linear: true },\n\t\t\tknee: { initial: 30, min: 0, max: 40, linear: true },\n\t\t\tratio: { initial: 12, min: 1, max: 20, linear: true },\n\t\t\treduction: { initial: 0, min: -20, max: 0, linear: true },\n\t\t\tattack: { initial: 0.003, min: 0, max: 1 },\n\t\t\trelease: { initial: 0.25, min: 0, max: 1 }\n\t\t}\n\t},\n\tDetuner: {\n\t\tconstructor: 'createDetuner',\n\t\tcustom: true,\n\t\tparams: {\n\t\t\toctave: { initial: 0, min: -2, max: 2, linear: true }\n\t\t}\n\t},\n\t// Controllers\n\tLFO: {\n\t\tconstructor: 'createOscillator',\n\t\tnoteHandler: 'LFO',\n\t\tcontrol: true,\n\t\tparams: {\n\t\t\tfrequency: { initial: 5, min: 0.01, max: 200 },\n\t\t\tdetune: OCTAVE_DETUNE,\n\t\t\ttype: {\n\t\t\t\tinitial: 'sine',\n\t\t\t\tchoices: ['sine', 'square', 'sawtooth', 'triangle']\n\t\t\t}\n\t\t}\n\t},\n\tGainCtrl: {\n\t\tconstructor: 'createGain',\n\t\tcontrol: true,\n\t\tparams: {\n\t\t\tgain: { initial: 10, min: 0, max: 100, linear: true }\n\t\t}\n\t},\n\tADSR: {\n\t\tconstructor: 'createADSR',\n\t\tnoteHandler: 'ADSR',\n\t\tcontrol: true,\n\t\tcustom: true,\n\t\tparams: {\n\t\t\tattack:  { initial: 0.2, min: 0, max: 10 },\n\t\t\tdecay:   { initial: 0.5, min: 0, max: 10 },\n\t\t\tsustain: { initial: 0.5, min: 0, max: 1, linear: true },\n\t\t\trelease: { initial: 1.0, min: 0, max: 10 },\n\t\t\tdepth:   { initial: 1.0, min: 0, max: 1 }\n\t\t}\n\t},\n\tNoiseCtrl: {\n\t\tconstructor: 'createNoiseCtrl',\n\t\tcontrol: true,\n\t\tcustom: true,\n\t\tparams: {\n\t\t\tfrequency: { initial: 4, min: 0, max: 200 },\n\t\t\tdepth:  { initial: 20, min: 0, max: 200 }\n\t\t}\n\t},\n\t// Output\n\tSpeaker: {\n\t\tconstructor: null,\n\t\tparams: {}\n\t}\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/synth/palette.ts\n **/","import { ModernAudioContext, ModernAudioNode } from '../utils/modern';\n\n/**\n * Base class to derive all custom nodes from it\n */\nclass CustomNodeBase implements ModernAudioNode {\n\tcustom = true;\n\tchannelCount = 2;\n\tchannelCountMode = 'max';\n\tchannelInterpretation = 'speakers';\n\tcontext: AudioContext;\n\tnumberOfInputs = 0;\n\tnumberOfOutputs = 1;\n\tconnect(param: AudioParam | AudioNode) {}\n\tdisconnect(dest: AudioNode | AudioParam) {}\n\t// Required for extending EventTarget\n\taddEventListener(){}\n\tdispatchEvent(evt: Event): boolean { return false; }\n\tremoveEventListener(){}\n}\n\n\n/**\n * Envelope generator that controls the evolution over time of a destination\n * node's parameter. All parameter control is performed in the corresponding\n * ADSR note handler.\n */\nexport class ADSR extends CustomNodeBase {\n\tattack: number = 0.2;\n\tdecay: number = 0.5;\n\tsustain: number = 0.5;\n\trelease: number = 1;\n\tdepth: number = 1;\n\t//TODO linear / exponential\n}\n\n\n/**\n * Base ScriptProcessor, to derive all custom audio processing nodes from it.\n */\nclass ScriptProcessor extends CustomNodeBase {\n\tgain: number = 1;\n\tanode: ScriptProcessorNode;\n\tplaying: boolean = false;\n\n\tconstructor(ac: AudioContext) {\n\t\tsuper();\n\t\tthis.anode = ac.createScriptProcessor(1024);\n\t\tthis.anode.onaudioprocess = evt => this.processAudio(evt);\n\t}\n\n\tconnect(node: AudioNode) {\n\t\tthis.anode.connect(node);\n\t}\n\n\tdisconnect() {\n\t\tthis.anode.disconnect();\n\t}\n\n\tstart() {\n\t\tthis.playing = true;\n\t}\n\n\tstop() {\n\t\tthis.playing = false;\n\t}\n\n\tprocessAudio(evt: AudioProcessingEvent) {}\n}\n\n\n/**\n * Simple noise generator\n */\nexport class NoiseGenerator extends ScriptProcessor {\n\tprocessAudio(evt: AudioProcessingEvent) {\n\t\tfor (let channel = 0; channel < evt.outputBuffer.numberOfChannels; channel++) {\n\t\t\tconst out = evt.outputBuffer.getChannelData(channel);\n\t\t\tfor (let sample = 0; sample < out.length; sample++)\n\t\t\t\tout[sample] = this.playing ? this.gain * (Math.random() * 2 - 1) : 0;\n\t\t}\n\t}\n}\n\n\n/**\n * Noise generator to be used as control node.\n * It uses sample & hold in order to implement the 'frequency' parameter.\n */\nexport class NoiseCtrlGenerator extends ScriptProcessor {\n\tac: ModernAudioContext;\n\tfrequency: number;\n\tdepth: number;\n\tsct: number;\n\tv: number;\n\n\tconstructor(ac: ModernAudioContext) {\n\t\tsuper(ac);\n\t\tthis.ac = ac;\n\t\tthis.frequency = 4;\n\t\tthis.depth = 20;\n\t\tthis.sct = 0;\n\t\tthis.v = 0;\n\t}\n\n\tconnect(param: any) {\n\t\tthis.anode.connect(param);\n\t}\n\n\tprocessAudio(evt: AudioProcessingEvent) {\n\t\tconst samplesPerCycle = this.ac.sampleRate / this.frequency;\n\t\tfor (let channel = 0; channel < evt.outputBuffer.numberOfChannels; channel++) {\n\t\t\tlet out = evt.outputBuffer.getChannelData(channel);\n\t\t\tfor (let sample = 0; sample < out.length; sample++) {\n\t\t\t\tthis.sct++;\n\t\t\t\tif (this.sct > samplesPerCycle) {\n\t\t\t\t\tthis.v = this.depth * (Math.random() * 2 - 1);\n\t\t\t\t\tthis.sct = 0; //this.sct - Math.floor(this.sct);\n\t\t\t\t}\n\t\t\t\tout[sample] = this.v;\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n/**\n * Simple Pitch Shifter implemented in a quick & dirty way\n */\nexport class Detuner extends ScriptProcessor {\n\toctave: number = 0;\n\tnumberOfInputs = 1;\n\n\tprocessAudio(evt: AudioProcessingEvent) {\n\t\tconst dx = Math.pow(2, this.octave);\n\t\tfor (let channel = 0; channel < evt.outputBuffer.numberOfChannels; channel++) {\n\t\t\tlet out = evt.outputBuffer.getChannelData(channel);\n\t\t\tlet inbuf = evt.inputBuffer.getChannelData(channel);\n\t\t\tlet sct = 0;\n\t\t\tfor (let sample = 0; sample < out.length; sample++) {\n\t\t\t\tout[sample] = inbuf[Math.floor(sct)];\n\t\t\t\tsct += dx;\n\t\t\t\tif (sct >= inbuf.length) sct = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n/**\n * Captures audio from the PC audio input.\n * Requires user's authorization to grab audio input.\n */\nexport class LineInNode extends CustomNodeBase {\n\tsrcNode: ModernAudioNode;\n\tdstNode: ModernAudioNode;\n\tstream: any;\n\n\tconnect(anode: AudioNode) {\n\t\tif (this.srcNode) {\n\t\t\tthis.srcNode.connect(anode);\n\t\t\tthis.dstNode = anode;\n\t\t\treturn;\n\t\t}\n\t\tconst navigator: any = window.navigator;\n\t\tnavigator.getUserMedia = (navigator.getUserMedia ||\n\t\t\tnavigator.webkitGetUserMedia ||\n\t\t\tnavigator.mozGetUserMedia ||\n\t\t\tnavigator.msGetUserMedia);\n\t\tnavigator.getUserMedia({ audio: true }, stream => {\n\t\t\tconst ac: any = anode.context;\n\t\t\tthis.srcNode = ac.createMediaStreamSource(stream);\n\t\t\tlet a2: any = anode;\n\t\t\tif (a2.custom && a2.anode) a2 = a2.anode;\n\t\t\tthis.srcNode.connect(a2);\n\t\t\tthis.dstNode = anode;\n\t\t\tthis.stream = stream;\n\t\t}, error => console.error(error));\n\t}\n\n\tdisconnect() {\n\t\tthis.srcNode.disconnect(this.dstNode);\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/synth/customNodes.ts\n **/","//-------------------- Encoding / decoding --------------------\n\nexport function arrayBufferToBase64(buffer) {\n\tvar binary = '';\n\tvar bytes = new Uint8Array( buffer );\n\tvar len = bytes.byteLength;\n\tfor (var i = 0; i < len; i++) {\n\t\tbinary += String.fromCharCode( bytes[ i ] );\n\t}\n\treturn window.btoa( binary );\n}\n\nexport function base64ToArrayBuffer(base64) {\n\tvar binary_string =  window.atob(base64);\n\tvar len = binary_string.length;\n\tvar bytes = new Uint8Array(len);\n\tfor (var i = 0; i < len; i++)        {\n\t\tbytes[i] = binary_string.charCodeAt(i);\n\t}\n\treturn bytes.buffer;\n}\n\n\n//-------------------- Downloading --------------------\n\nexport function browserSupportsDownload(): boolean {\n\treturn !(<any>window).externalHost && 'download' in $('<a>')[0];\n}\n\nexport function download(fileName, fileData) {\n\tconst a = $('<a>');\n\ta.attr('download', fileName);\n\ta.attr('href',\n\t\t'data:application/octet-stream;base64,' + btoa(fileData));\n\tconst clickEvent = new MouseEvent('click',\n\t\t{ view: window, bubbles: true, cancelable: false });\n\ta[0].dispatchEvent(clickEvent);\n}\n\n\n//-------------------- Uploading --------------------\n\nexport function uploadText(event, cb: (text) => void) {\n\tupload(event, cb, 'readAsText');\n}\n\nexport function uploadArrayBuffer(event, cb: (ab) => void) {\n\tupload(event, cb, 'readAsArrayBuffer');\n}\n\nfunction upload(event, cb, readFunc: string) {\n\tif (!event.target.files || event.target.files.length <= 0) return cb(null);\n\tconst file = event.target.files[0];\n\tconst reader = new FileReader();\n\treader.onload = (loadEvt: any)  => cb(loadEvt.target.result);\n\treader[readFunc](file);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./ts/utils/file.ts\n **/","/** Informs whether a popup is open or not */\nexport let isOpen: boolean = false;\n\n/** Bootstrap-based equivalent of standard alert function */\nexport function alert(msg: string, title?: string, hideClose?: boolean, options?: any): void {\n\tpopup.find('.popup-message').html(msg);\n\tpopup.find('.modal-title').text(title || 'Alert');\n\tpopup.find('.popup-ok').hide();\n\tif (hideClose)\n\t\tpopup.find('.popup-close').hide();\n\telse\n\t\tpopup.find('.popup-close').html('Close');\n\tpopup.find('.popup-prompt > input').hide();\n\tisOpen = true;\n\tpopup.one('hidden.bs.modal', _ => isOpen = false);\n\tpopup.modal(options);\n}\n\n/** Like an alert, but without a close button */\nexport function progress(msg: string, title?: string): void {\n\talert(msg, title, true, { keyboard: false });\n}\n\n/** Closes a popup in case it is open */\nexport function close() {\n\tif (!isOpen) return;\n\tpopup.find('.popup-ok').click();\n}\n\n/** Bootstrap-based equivalent of standard confirm function */\nexport function confirm(msg: string, title: string,\n\tcbClose: (boolean) => void, cbOpen?: () => void) {\n\tlet result = false;\n\tpopup.find('.popup-message').html(msg);\n\tpopup.find('.modal-title').text(title || 'Please confirm');\n\tconst okButton = popup.find('.popup-ok');\n\tokButton.show().click(_ => result = true);\n\tpopup.find('.popup-prompt > input').hide();\n\tpopup.find('.popup-close').text('Cancel');\n\tpopup.one('shown.bs.modal', _ => {\n\t\tokButton.focus();\n\t\tif (cbOpen) cbOpen();\n\t});\n\tpopup.find('form').one('submit', _ => {\n\t\tresult = true;\n\t\tokButton.click();\n\t\treturn false;\n\t});\n\tpopup.one('hide.bs.modal', _ => {\n\t\tokButton.off('click');\n\t\tisOpen = false;\n\t\tcbClose(result);\n\t});\n\tisOpen = true;\n\tpopup.modal();\n}\n\n/** Bootstrap-based equivalent of standard prompt function */\nexport function prompt(msg: string, title: string,\n\tinitialValue: string, cb: (string) => void): void {\n\tconst input = popup.find('.popup-prompt > input');\n\tconfirm(msg, title, confirmed => {\n\t\tif (!cb) return;\n\t\tif (!confirmed) cb(null);\n\t\telse cb(input.val());\n\t}, () => {\n\t\tinput.show();\n\t\tinput.focus();\n\t\tif (initialValue) {\n\t\t\tinput.val(initialValue);\n\t\t\tconst hinput: HTMLInputElement = <HTMLInputElement>input[0];\n\t\t\thinput.select();\n\t\t}\n\t\telse input.val('');\n\t});\n}\n\n\nconst popup = $(`\n\t<div class=\"normal-font modal fade\" id=\"myModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\">\n\t<div class=\"modal-dialog\" role=\"document\">\n\t\t<div class=\"modal-content\">\n\t\t<div class=\"modal-header\">\n\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\n\t\t\t<h4 class=\"modal-title\" id=\"myModalLabel\"></h4>\n\t\t</div>\n\t\t<div class=\"modal-body\">\n\t\t\t<div class=\"popup-message\"></div>\n\t\t\t<form class=\"popup-prompt\">\n\t\t\t\t<input type=\"text\" style=\"width: 100%\">\n\t\t\t</form>\n\t\t</div>\n\t\t<div class=\"modal-footer\">\n\t\t\t<button type=\"button\" class=\"btn btn-default popup-close\" data-dismiss=\"modal\"></button>\n\t\t\t<button type=\"button\" class=\"btn btn-primary popup-ok\" data-dismiss=\"modal\">OK</button>\n\t\t</div>\n\t\t</div>\n\t</div>\n\t</div>\n`);\n\n$('body').append(popup);\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/utils/popups.ts\n **/","import * as popups from '../utils/popups';\nimport { log2linear, linear2log } from '../utils/modern';\n\nconst NUM_WHITES = 17;\nconst BASE_NOTE = 36;\n\nconst ARPEGGIO_MODES = ['', 'u', 'd', 'ud'];\nconst ARPEGGIO_LABELS = ['-', '&uarr;', '&darr;', '&uarr;&darr;'];\nconst MAX_ARPEGGIO_OCT = 3;\nconst ARPEGGIO_MIN = 15;\nconst ARPEGGIO_MAX = 480;\n\nconst PORTAMENTO_MIN = 0;\nconst PORTAMENTO_MAX = 1;\n\n\n/** Builds a piano keyboard out of DIVs */\nexport class PianoKeys {\n\tconstructor(public numWhites = NUM_WHITES) {\n\t}\n\n\tcreateKeys(panel: JQuery): JQuery[] {\n\t\tconst keys = [];\n\t\tconst pw = panel.width();\n\t\tconst ph = panel.height();\n\t\tconst fromX = parseFloat(panel.css('padding-left'));\n\t\tconst fromY = parseFloat(panel.css('padding-top'));\n\t\tconst kw = pw / this.numWhites + 1;\n\t\tconst bw = Math.round(kw * 2 / 3);\n\t\tconst bh = Math.round(ph * 2 / 3);\n\t\t// Create white keys\n\t\tlet knum = 0;\n\t\tfor (let i = 0; i < this.numWhites; i++) {\n\t\t\tconst key = $('<div class=\"piano-key\">').css({\n\t\t\t\twidth: '' + kw + 'px',\n\t\t\t\theight: '' + ph + 'px'\n\t\t\t});\n\t\t\tpanel.append(key);\n\t\t\tkeys[knum++] = key;\n\t\t\tif (this.hasBlack(i)) knum++;\n\t\t}\n\t\t// Create black keys\n\t\tknum = 0;\n\t\tlet x = fromX - bw / 2;\n\t\tfor (let i = 0; i < this.numWhites - 1; i++) {\n\t\t\tx += kw - 1;\n\t\t\tknum++;\n\t\t\tif (!this.hasBlack(i)) continue;\n\t\t\tconst key = $('<div class=\"piano-key piano-black\">').css({\n\t\t\t\twidth: '' + bw + 'px',\n\t\t\t\theight: '' + bh + 'px',\n\t\t\t\tleft: '' + x + 'px',\n\t\t\t\ttop: '' + fromY + 'px'\n\t\t\t});\n\t\t\tpanel.append(key);\n\t\t\tkeys[knum++] = key;\n\t\t}\n\t\treturn keys;\n\t}\n\n\thasBlack(num: number): boolean {\n\t\tconst mod7 = num % 7;\n\t\treturn mod7 != 2 && mod7 != 6;\n\t}\n\n}\n\n/**\n * A virtual piano keyboard that:\n * \t- Captures mouse input and generates corresponding note events\n * \t- Displays note events as CSS-animated colors in the pressed keys\n * \t- Supports octave switching\n * \t- Provides a poly/mono button\n */\nexport class PianoKeyboard {\n\tkeys: JQuery[];\n\tk1note: number;\n\tbaseNote: number;\n\toctave: number;\n\tpoly: boolean;\n\tlastKey: JQuery;\n\tenvelope: { attack: number; release: number };\n\tportaSlider: JQuery;\n\tcontrols: JQuery;\n\tarpeggio = {\n\t\tmode: 0,\n\t\toctave: 1,\n\t\tbpm: 60\n\t};\n\n\tconstructor(panel: JQuery) {\n\t\tthis.baseNote = BASE_NOTE;\n\t\tthis.octave = 3;\n\t\tthis.poly = false;\n\t\tthis.envelope = { attack: 0, release: 0 };\n\t\tconst pianoKeys = new PianoKeys();\n\t\tthis.keys = pianoKeys.createKeys(panel);\n\t\tfor (let i = 0; i < this.keys.length; i++)\n\t\t\tthis.registerKey(this.keys[i], i);\n\t\tthis.controls = panel.parent();\n\t\tthis.registerButtons(this.controls);\n\t\tthis.portaSlider = this.controls.find('.portamento-box input');\n\t}\n\n\tregisterKey(key: JQuery, knum: number): void {\n\t\tkey.mousedown(_ => {\n\t\t\tconst midi = knum + this.baseNote;\n\t\t\tthis.displayKeyDown(key);\n\t\t\tthis.noteOn(midi);\n\t\t});\n\t\tkey.mouseup(_ => {\n\t\t\tconst midi = knum + this.baseNote;\n\t\t\tthis.displayKeyUp(key);\n\t\t\tthis.noteOff(midi);\n\t\t});\n\t}\n\n\tregisterButtons(panel: JQuery): void {\n\t\t// Octave navigation\n\t\t$('#prev-octave-but').click(_ => {\n\t\t\tthis.octave--;\n\t\t\tthis.updateOctave();\n\t\t});\n\t\t$('#next-octave-but').click(_ => {\n\t\t\tthis.octave++;\n\t\t\tthis.updateOctave();\n\t\t});\n\t\t// Arpeggio\n\t\tconst arpeggioSlider = panel.find('.arpeggio-box input');\n\t\tarpeggioSlider.on('input',_ => {\n\t\t\tthis.arpeggio.bpm =\n\t\t\t\tlog2linear(parseFloat(arpeggioSlider.val()), ARPEGGIO_MIN, ARPEGGIO_MAX);\n\t\t\t\t// ARPEGGIO_MIN + parseFloat(arpeggioSlider.val()) * (ARPEGGIO_MAX - ARPEGGIO_MIN);\n\t\t\tthis.triggerArpeggioChange();\n\t\t});\n\t\tconst butArpMode = panel.find('.btn-arpeggio-ud');\n\t\tbutArpMode.click(_ => this.changeArpeggioMode(butArpMode));\n\t\tconst butArpOct = panel.find('.btn-arpeggio-oct');\n\t\tbutArpOct.click(_ => this.changeArpeggioOctave(butArpOct));\n\t\t// Monophonic / polyphonic mode\n\t\t$('#poly-but').click(_ => this.togglePoly());\n\t}\n\n\tupdateOctave() {\n\t\t$('#prev-octave-but').prop('disabled', this.octave <= 1);\n\t\t$('#next-octave-but').prop('disabled', this.octave >= 8);\n\t\t$('#octave-label').text('C' + this.octave);\n\t\tthis.baseNote = BASE_NOTE + 12 * (this.octave - 3);\n\t\tthis.octaveChanged(this.baseNote);\n\t}\n\n\tdisplayKeyDown(key): void {\n\t\tif (typeof key == 'number') key = this.midi2key(key);\n\t\tif (!key) return;\n\t\tif (!this.poly && this.arpeggio.mode == 0 && this.lastKey)\n\t\t\tthis.displayKeyUp(this.lastKey, true);\n\t\tkey.css('transition', `background-color ${this.envelope.attack}s linear`);\n\t\tkey.addClass('piano-key-pressed');\n\t\tthis.lastKey = key;\n\t}\n\n\tdisplayKeyUp(key, immediate?) {\n\t\tif (typeof key == 'number') key = this.midi2key(key);\n\t\tif (!key) return;\n\t\tconst release = immediate ? 0 : this.envelope.release;\n\t\tkey.css('transition', `background-color ${release}s linear`);\n\t\tkey.removeClass('piano-key-pressed');\n\t}\n\n\tmidi2key(midi: number) {\n\t\treturn this.keys[midi - this.baseNote];\n\t}\n\n\tsetEnvelope(adsr) {\n\t\tthis.envelope = adsr;\n\t}\n\n\ttogglePoly() {\n\t\tthis.poly = !this.poly;\n\t\tif (this.poly) {\n\t\t\tconst cover = $('<div>').addClass('editor-cover');\n\t\t\tcover.append('<p>You can use the PC keyboard to play notes<br><br>' +\n\t\t\t\t'Synth editing is disabled in polyphonic mode</p>');\n\t\t\t$('body').append(cover);\n\t\t\t$('#poly-but').text('Poly');\n\t\t\tpopups.isOpen = true;\n\t\t\tthis.polyOn();\n\t\t}\n\t\telse {\n\t\t\t$('.editor-cover').remove();\n\t\t\t$('#poly-but').text('Mono');\n\t\t\tpopups.isOpen = false;\n\t\t\tthis.polyOff();\n\t\t}\n\t}\n\n\tgetPortamento(): number {\n\t\tconst sv = parseFloat(this.portaSlider.val());;\n\t\treturn log2linear(sv, PORTAMENTO_MIN, PORTAMENTO_MAX);\n\t}\n\n\tchangeArpeggioMode(button: JQuery) {\n\t\tthis.arpeggio.mode++;\n\t\tif (this.arpeggio.mode >= ARPEGGIO_MODES.length)\n\t\t\tthis.arpeggio.mode = 0;\n\t\tbutton.html(ARPEGGIO_LABELS[this.arpeggio.mode]);\n\t\tthis.triggerArpeggioChange();\n\t}\n\n\tchangeArpeggioOctave(button: JQuery) {\n\t\tthis.arpeggio.octave++;\n\t\tif (this.arpeggio.octave > MAX_ARPEGGIO_OCT)\n\t\t\tthis.arpeggio.octave = 1;\n\t\tbutton.text(this.arpeggio.octave);\n\t\tthis.triggerArpeggioChange();\n\t}\n\n\ttriggerArpeggioChange() {\n\t\tthis.arpeggioChanged(this.arpeggio.bpm,\n\t\t\tARPEGGIO_MODES[this.arpeggio.mode], this.arpeggio.octave);\n\t}\n\n\ttoJSON(): any {\n\t\treturn {\n\t\t\tportamento: this.getPortamento(),\n\t\t\toctave: this.octave,\n\t\t\tarpeggio: {\n\t\t\t\tbpm: this.arpeggio.bpm,\n\t\t\t\tmode: this.arpeggio.mode,\n\t\t\t\toctave: this.arpeggio.octave\n\t\t\t}\n\t\t}\n\t}\n\n\tfromJSON(json): void {\n\t\tif (!json) return;\n\t\tif (json.portamento) {\n\t\t\tthis.portaSlider.val(\n\t\t\t\tlinear2log(json.portamento, PORTAMENTO_MIN, PORTAMENTO_MAX));\n\t\t}\n\t\tif (json.octave) {\n\t\t\tthis.octave = json.octave;\n\t\t\tthis.updateOctave();\n\t\t}\n\t\tif (json.arpeggio) {\n\t\t\tthis.arpeggio.bpm = json.arpeggio.bpm;\n\t\t\tthis.arpeggio.mode = json.arpeggio.mode;\n\t\t\tthis.arpeggio.octave = json.arpeggio.octave;\n\t\t\tthis.controls.find('.arpeggio-box input').val(\n\t\t\t\tlinear2log(this.arpeggio.bpm, ARPEGGIO_MIN, ARPEGGIO_MAX));\n\t\t\tthis.controls.find('.btn-arpeggio-ud').html(ARPEGGIO_LABELS[this.arpeggio.mode]);\n\t\t\tthis.controls.find('.btn-arpeggio-oct').text(this.arpeggio.octave);\n\t\t\tthis.triggerArpeggioChange();\n\t\t}\n\t}\n\n\t// Simple event handlers\n\tnoteOn(midi: number): void {}\n\tnoteOff(midi: number): void {}\n\tpolyOn() {}\n\tpolyOff() {}\n\toctaveChanged(baseNote) {}\n\tarpeggioChanged(bpm: number, mode: string, octaves: number) {}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./ts/piano/piano.ts\n **/","interface TimerCallback {\n\t(time: number): void;\n}\n\nexport class Timer {\n\trunning: boolean;\n\tac: AudioContext;\n\tcb: TimerCallback;\n\t_bpm: number;\n\tahead: number;\n\tnextNoteTime: number;\n\tnoteDuration: number;\n\n\tconstructor(ac: AudioContext, bpm = 60, ahead = 0.1) {\n\t\tthis.running = false;\n\t\tthis.ac = ac;\n\t\tthis.noteDuration = 0;\n\t\tthis.nextNoteTime = 0;\n\t\tthis.bpm = bpm;\n\t\tthis.ahead = ahead;\n\t}\n\n\tget bpm() { return this._bpm; }\n\n\tset bpm(v) {\n\t\tthis._bpm = v;\n\t\tthis.nextNoteTime -= this.noteDuration;\n\t\tthis.noteDuration = (1/4) * 60 / this._bpm;\n\t\tthis.nextNoteTime += this.noteDuration;\n\t}\n\n\tstart(cb?: TimerCallback): void {\n\t\tif (this.running) return;\n\t\tthis.running = true;\n\t\tif (cb) this.cb = cb;\n\t\tthis.nextNoteTime = this.ac.currentTime;\n\t\tthis.tick();\n\t}\n\n\tstop(): void {\n\t\tthis.running = false;\n\t}\n\n\ttick(): void {\n\t\tif (!this.running) return;\n\t\trequestAnimationFrame(this.tick.bind(this));\n\t\twhile (this.nextNoteTime < this.ac.currentTime + this.ahead) {\n\t\t\tif (this.cb) this.cb(this.nextNoteTime);\n\t\t\tthis.nextNoteTime += this.noteDuration;\n\t\t}\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./ts/synth/timer.ts\n **/","import { ModernAudioContext } from '../utils/modern';\nimport { Synth, NodeData, Portamento } from './synth';\n\n\n/**\n * A polyphonic synth controlling an array of voices\n */\nexport class Instrument {\n\tvoices: Voice[];\n\tpressed: number[];\n\treleased: number[];\n\tportamento: Portamento;\n\n\tconstructor(ac: ModernAudioContext, json: any, numVoices: number, dest?: AudioNode) {\n\t\t// Setup voices\n\t\tthis.pressed = [];\n\t\tthis.released = [];\n\t\tthis.voices = [];\n\t\tfor (let i = 0; i < numVoices; i++) {\n\t\t\tthis.voices.push(new Voice(ac, json, dest));\n\t\t\tthis.released.push(i);\n\t\t}\n\t\t// Setup synth params by having a common instance for all voices\n\t\tthis.portamento = this.voices[0].synth.portamento;\n\t\tif (json.keyboard && json.keyboard.portamento)\n\t\t\tthis.portamento.time = json.keyboard.portamento;\n\t\tfor (let i = 1; i < numVoices; i++)\n\t\t\tthis.voices[i].synth.portamento = this.portamento;\n\t}\n\n\tnoteOn(midi: number, velocity: number = 1, when?: number): void {\n\t\tconst vnum = this.findVoice();\n\t\tconst voice = this.voices[vnum];\n\t\tthis.pressed.push(vnum);\n\t\tvoice.noteOn(midi, velocity, when);\n\t}\n\n\tnoteOff(midi: number, velocity: number = 1, when?: number): void {\n\t\tfor (let i = 0; i < this.voices.length; i++) {\n\t\t\tconst voice = this.voices[i];\n\t\t\tif (voice.lastNote == midi) {\n\t\t\t\tvoice.noteOff(midi, velocity, when);\n\t\t\t\tthis.released.push(i);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tfindVoice(): number {\n\t\tlet voices: number[];\n\t\tif (this.released.length > 0) voices = this.released;\n\t\telse if (this.pressed.length > 0) voices = this.pressed;\n\t\telse throw \"This should never happen\";\n\t\treturn voices.splice(0, 1)[0];\n\t}\n\n\tclose() {\n\t\tfor (const voice of this.voices) voice.close();\n\t}\n}\n\n\n/**\n * An independent monophonic synth\n */\nexport class Voice {\n\tsynth: Synth;\n\tlastNote: number;\n\tloader: SynthLoader;\n\n\tconstructor(ac: ModernAudioContext, json: any, dest?: AudioNode) {\n\t\tthis.loader = new SynthLoader();\n\t\tthis.synth = this.loader.load(ac, json, dest || ac.destination);\n\t\tthis.lastNote = 0;\n\t}\n\n\tnoteOn(midi: number, velocity: number = 1, when?: number): void {\n\t\tthis.synth.noteOn(midi, velocity, when);\n\t\tthis.lastNote = midi;\n\t}\n\n\tnoteOff(midi: number, velocity: number = 1, when?: number): void {\n\t\tthis.synth.noteOff(midi, velocity, when);\n\t\tthis.lastNote = 0;\n\t}\n\n\tclose(): void {\n\t\t// This method must be called to avoid memory leaks at the Web Audio level\n\t\tif (this.lastNote) this.noteOff(this.lastNote, 1);\n\t\tthis.loader.close();\n\t}\n}\n\n\n//-------------------- Private --------------------\n\nclass VoiceNodeData extends NodeData {\n\tinputs: NodeData[] = [];\n\tconstructor(public id: number) {\n\t\tsuper();\n\t}\n\tgetInputs(): NodeData[] {\n\t\treturn this.inputs;\n\t}\n}\n\nclass SynthLoader {\n\tnodes: VoiceNodeData[] = [];\n\tsynth: Synth;\n\n\tload(ac: ModernAudioContext, json: any, dest: AudioNode): Synth {\n\t\tconst synth = new Synth(ac);\n\t\t// Add nodes into id-based table\n\t\tlet i = 0;\n\t\tfor (const jn of json.nodes)\n\t\t\tthis.nodes[i++] = new VoiceNodeData(jn.id);\n\t\t// Then set their list of inputs\n\t\tfor (let i = 0; i < json.nodes.length; i++)\n\t\t\tfor (const inum of json.nodes[i].inputs)\n\t\t\t\tthis.nodes[i].inputs.push(this.nodeById(inum));\n\t\t// Then set their data\n\t\tfor (let i = 0; i < json.nodes.length; i++) {\n\t\t\tconst type = json.nodeData[i].type;\n\t\t\tif (type == 'out')\n\t\t\t\tsynth.initOutputNodeData(this.nodes[i], dest);\n\t\t\telse\n\t\t\t\tsynth.initNodeData(this.nodes[i], type);\n\t\t\tsynth.json2NodeData(json.nodeData[i], this.nodes[i]);\n\t\t}\n\t\t// Then notify connections to handler\n\t\tfor (const dst of this.nodes)\n\t\t\tfor (const src of dst.inputs)\n\t\t\t\tsynth.connectNodes(src, dst);\n\t\t// Finally, return the newly created synth\n\t\tthis.synth = synth;\n\t\treturn synth;\n\t}\n\n\tnodeById(id: number): VoiceNodeData {\n\t\tfor (const node of this.nodes)\n\t\t\tif (node.id === id) return node;\n\t\treturn null;\n\t}\n\n\tclose() {\n\t\tfor (const node of this.nodes)\n\t\t\tfor (const input of node.inputs)\n\t\t\t\tthis.synth.disconnectNodes(input, node);\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/synth/instrument.ts\n **/","import { Instrument } from '../synth/instrument';\n\n\nexport class Note {\n\tstatic NoteOn = 0;\n\tstatic NoteOff = 1;\n\ttype: number;\n\tmidi: number;\n\tvelocity: number;\n\tconstructor(type, midi, velocity = 1) {\n\t\tthis.type = type;\n\t\tthis.midi = midi;\n\t\tthis.velocity = velocity;\n\t}\n\tstatic on(midi, velocity = 1): Note {\n\t\treturn new Note(Note.NoteOn, midi, velocity);\n\t}\n\tstatic off(midi, velocity = 1): Note {\n\t\treturn new Note(Note.NoteOff, midi, velocity);\n\t}\n}\n\nexport class NoteRow {\n\tnotes: Note[];\n\tcommands: any[];\n}\n\nexport class Part {\n\tname: string;\n\tvoices: number;\n\tinstrument: Instrument;\n\trows: NoteRow[] = [];\n\tplayRow(rowNum: number, when: number) {\n\t\tconst row = this.rows[rowNum];\n\t\tif (!row || !row.notes) return;\n\t\tfor (const note of row.notes) {\n\t\t\tif (note.type == Note.NoteOn)\n\t\t\t\tthis.instrument.noteOn(note.midi, note.velocity, when);\n\t\t\telse if (note.type == Note.NoteOff)\n\t\t\t\tthis.instrument.noteOff(note.midi, note.velocity, when);\n\t\t}\n\t}\n}\n\nexport class Track {\n\tparts: Part[] = [];\n}\n\nexport class Song {\n\ttitle: string;\n\tbpm: number;\n\ttracks: Track[] = [];\n\tplay() {}\n\tstop() {}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/tracker/song.ts\n **/","import * as tracker from './song';\nimport { PianoKeys } from '../piano/piano';\n\nconst NUM_WHITES = 28;\nconst BASE_NOTE = 24;\nconst NOTE_COLOR = '#0CC';\nconst COLUMN_COLOR = '#E0E0E0';\n\n\nexport class Pianola {\n\tpkh: PianoKeyHelper;\n\tpast: NoteCanvas;\n\tfuture: NoteCanvas;\n\tnotes: number[];\n\toldNotes: number[];\n\n\tconstructor($past, $piano, $future) {\n\t\tthis.pkh = new PianoKeyHelper(new PianoKeys(NUM_WHITES));\n\t\tthis.past = new NoteCanvas($('#past-notes'), NUM_WHITES * 2, this.pkh);\n\t\tthis.future = new NoteCanvas($('#future-notes'), NUM_WHITES * 2, this.pkh);\n\t\tthis.notes = [];\n\t\tthis.oldNotes = [];\n\t}\n\n\trender(part: tracker.Part, currentRow: number) {\n\t\tthis.past.paintNoteColumns(this.past.numRows - currentRow, this.past.numRows);\n\t\tthis.future.paintNoteColumns(0, part.rows.length - currentRow - 1);\n\t\tfor (let i = 0; i < part.rows.length; i++) {\n\t\t\tconst row = part.rows[i];\n\t\t\tthis.updateNotes(part.rows[i]);\n\t\t\tif (i < currentRow) this.renderPastRow(i, currentRow);\n\t\t\telse if (i == currentRow) this.renderCurrentRow();\n\t\t\telse this.renderFutureRow(i, currentRow);\n\t\t}\n\t}\n\n\trenderPastRow(rowNum: number, currentRow: number) {\n\t\tconst y = this.past.numRows - currentRow + rowNum;\n\t\tthis.past.renderNoteRow(y, this.notes);\n\t}\n\n\trenderCurrentRow() {\n\t\tfor (const note of this.oldNotes)\n\t\t\tthis.pkh.keyUp(note);\n\t\tfor (const note of this.notes)\n\t\t\tthis.pkh.keyDown(note);\n\t\tthis.oldNotes = this.notes.slice();\n\t}\n\n\trenderFutureRow(rowNum: number, currentRow: number) {\n\t\tconst y = rowNum - currentRow - 1;\n\t\tthis.future.renderNoteRow(y, this.notes);\n\t}\n\n\tupdateNotes(row: tracker.NoteRow) {\n\t\tconst rowNotes = row && row.notes ? row.notes : [];\n\t\tlet note;\n\t\tfor (note of rowNotes) {\n\t\t\tif (note.type == tracker.Note.NoteOn)\n\t\t\t\tthis.notes.push(note.midi);\n\t\t\telse if (note.type == tracker.Note.NoteOff)\n\t\t\t\tthis.notes = this.notes.filter(midi => midi != note.midi);\n\t\t}\n\t}\n}\n\n\nclass PianoKeyHelper {\n\tkeys: JQuery[];\n\n\tconstructor(public pk: PianoKeys) {\n\t\tthis.keys = this.pk.createKeys($('#piano'));\n\t}\n\n\tgetKey(midi: number): JQuery {\n\t\treturn this.keys[midi - BASE_NOTE];\n\t}\n\n\tkeyDown(midi: number) {\n\t\tconst key = this.getKey(midi);\n\t\tkey.addClass('piano-key-pressed');\n\t}\n\n\tkeyUp(midi: number) {\n\t\tconst key = this.getKey(midi);\n\t\tkey.removeClass('piano-key-pressed');\n\t}\n\n\treset() {\n\t\tfor (const key in this.keys)\n\t\t\tkey.removeClass('piano-key-pressed');\n\t}\n}\n\n\nclass NoteCanvas {\n\tcanvas: HTMLCanvasElement;\n\tgc: CanvasRenderingContext2D;\n\tnumKeys: number;\n\tpkh: PianoKeyHelper;\n\tnoteW: number;\n\tnoteH: number;\n\tnumRows: number;\n\n\tconstructor($canvas: JQuery, numKeys: number, pkh: PianoKeyHelper) {\n\t\tthis.canvas = <HTMLCanvasElement>$canvas[0];\n\t\tthis.gc = this.canvas.getContext('2d');\n\t\tthis.numKeys = numKeys;\n\t\tthis.pkh = pkh;\n\t\tthis.noteW = this.canvas.width / this.numKeys;\n\t\tthis.noteH = this.noteW;\n\t\tthis.numRows = Math.floor(this.canvas.height / this.noteH);\n\t}\n\n\tpaintNoteColumns(fromRow: number, toRow: number) {\n\t\tthis.gc.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\t\tlet x = this.noteW / 2;\n\t\tthis.gc.fillStyle = COLUMN_COLOR;\n\t\tlet oldx = 0;\n\t\tlet colY = fromRow * this.noteH;\n\t\tlet colH = (toRow + 1) * this.noteH - colY;\n\t\tfor (let i = 0; i < this.numKeys - 1; i++) {\n\t\t\tif (i % 2)\n\t\t\t\tthis.gc.fillRect(Math.round(x) - 1, colY, Math.round(x - oldx), colH);\n\t\t\toldx = x;\n\t\t\tx += this.noteW;\n\t\t}\n\t}\n\n\trenderNoteRow(y: number, notes: number[]) {\n\t\tconst yy = y * this.noteH;\n\t\tif (yy + this.noteH < 0 || yy > this.canvas.height) return;\n\t\tthis.gc.fillStyle = NOTE_COLOR;\n\t\tconst xOffset = $(this.canvas).offset().left;\n\t\tfor (const midi of notes) {\n\t\t\tconst $key = this.pkh.getKey(midi);\n\t\t\tlet x = $key.offset().left - xOffset;\n\t\t\tx -= $key.hasClass('piano-black') ? 7.5 : 4;\n\t\t\tthis.gc.fillRect(x, yy, this.noteW, this.noteH);\n\t\t}\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/tracker/pianola.ts\n **/"],"sourceRoot":""}